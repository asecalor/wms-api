generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model OrderRejection {
  orderId   Int      @id @unique
  createdAt DateTime @default(now())
}

model WareHouse {
  id         Int                @id @default(autoincrement())
  providerId Int
  address    String
  products   ProductWareHouse[]
}

model ProductWareHouse {
  id          Int       @id @default(autoincrement())
  wareHouseId Int
  productId   Int
  stock       Int
  WareHouse   WareHouse @relation(fields: [wareHouseId], references: [id])
  picking     Picking[]

  @@unique([wareHouseId, productId])
}

model Picking {
  id                 Int              @id @default(autoincrement())
  orderId            Int
  productWareHouseId Int
  quantity           Int // Items of the order
  picked             Boolean          @default(false)
  ProductWareHouse   ProductWareHouse @relation(fields: [productWareHouseId], references: [id])

  @@unique([orderId, productWareHouseId])
}
